<div class="search-item" (click)="openCommunicationItem()">
  <div>
    <span
      class="material-symbols-outlined material-symbols-outlined-fill"
      [matTooltip]="locale().tooltips[item().type]"
    >
      {{ icon() }}
    </span>
  </div>
  <div class="search-item__content">
    <div class="search-item__content-header">
      @if (item().Importance) {
        <span
          class="material-symbols-outlined material-symbols-outlined-fill problem-icon"
          [matTooltip]="locale().tooltips.high_importance"
          >error</span
        >
      }
      @if (item().AttachmentCount) {
        <span
          [matTooltip]="item().AttachmentCount | i18nPlural: attachmentMapping"
          class="material-symbols-outlined material-symbols-outlined-fill text-active"
        >
          attachment
        </span>
      }
      <span class="result-title text-active" [matTooltip]="title()">
        {{ title() }}
      </span>
    </div>
    <div>
      <span
        class="search-item__content-subheader muted"
        [matTooltip]="subtitle()"
      >
        {{ subtitle() }}
      </span>
    </div>
    @if (isEmailItem()) {
      <div>
        <span class="search-item__content-subheader muted">
          {{
            'header.intelligent_search.' +
              (isInboundEmail() ? 'received' : 'sent')
              | translate
                : {
                    d: item().Logged | en8LocaleDate: 'd',
                    t: item().Logged | en8LocaleDate: 't',
                  }
          }}
        </span>
      </div>
    }
  </div>
  <div class="search-item__action">
    <span
      (click)="viewContent($event)"
      class="material-symbols-outlined material-symbols-outlined-fill email-view-icon"
      [matTooltip]="
        locale().tooltips[!showContent ? 'show_content' : 'hide_content']
      "
    >
      {{ action_icon }}
    </span>
  </div>
</div>
@if (showContent) {
  <mat-card appearance="outlined" class="item-content">
    <mat-card-content>
      <pre class="item-content__scrollable">{{ content() }}</pre>
    </mat-card-content>
  </mat-card>
}
